{% extends 'base.html.twig' %}

{% block title %}{{titre}}{% endblock %}

{% block body %}
    <style>
        *{padding:0;margin:0;box-sizing:border-box; text-decoration:none;}
        header{display:flex; justify-content:space-between;;margin-bottom:100px; align-items:center; padding : 0 50px;}
        header h1{font-size : 70px}
        #titre{flex-grow:1; color:rgb(150,150,150); text-align:center; font-size:40px}
        body{background-color:rgb(54,54,54); overflow-x:hidden; width:100vw; position:relative}
        #liste_message{display:flex;flex-direction:column; width:100vw;padding:5%;}
        .message{display:grid; align-items:center; grid-template-columns: 1fr 4fr 2fr; grid-auto-rows: 50px;margin-bottom:20px;width:clamp(500px, 100%, 800px);color:white}
        .nom_user{grid-column:1/3;grid-row:1/2; padding : 0 5%;}
        .message_info{ grid-column:1/3; grid-row:2/3; background-color:#549956; border-radius:65px;}
        .photo_user_conteneur{background-color:rgb(200,200,200); border-radius:50%; overflow:hidden; height: 100px; width : 100px; display:flex; justify-content:center; align-items:center;}
        .photo_user{width:95px; height:95px}
        .dernier_message{padding : 0 10%;}
        .date_dernier_message{grid-column:3/4;grid-row:2/3; padding : 0 10%;}
        #zone_input{width:100vw; padding : 0 10%; height:10vh; position:fixed;top:90vh;display:flex;justify-content:center; align-items:center}
        #ajout_fichier{border-radius:50%; background-color:rgb(180,180,180);width:70px; height:70px;}
        #creer_son_image_video{border-radius:50%;margin: 0 20px; background-color:rgb(180,180,180);width:70px; height:70px;}
        #input_utilisateur{height:70px; background-color:rgb(180,180,180); border-radius:50px;width:clamp(200px, 60%, 800px)}
        #ajout_emote{border-radius:50%;margin: 0 20px; background-color:rgb(180,180,180);width:70px; height:70px;}
        #plus_d_options{border-radius:50%; background-color:rgb(180,180,180);width:70px; height:70px;}
    </style>

    <header>
        <a style="color:black;" href="{{ path('accueil') }}"><h1>C<span><img src="{{ asset('img/coze.svg') }}" height="48px"></span>ZE</h1></a>
        <h2 id='titre'>{{titre}}</h2>
    </header>

    <main>
        <div id='liste_message'>
            {% for message in messages %}
                <div class='message'>
                    <h3 class='nom_user'>{{ user_repository.find(message.getUserId()).getUsername() }}</h3>
                    <div class='message_info'>
                        <div class='photo_user_conteneur'>
                            <img class='photo_user' src='{{ asset('img/profil.svg') }}' alt='photo_discussion'>
                        </div>
                        <p class='message_contenu'>{{ message.getMessage() }}</p>
                    </div>
                    <p class='date_message'>{{ message.getDateEnvoie() | date("d/m/Y")}}
                </div>
            {% endfor %}
        </div>

        <div id='zone_input'>
            <div id='ajout_fichier'></div>
            <div id='creer_son_image_video'></div>
            <div id='input_utilisateur'></div>
            <div id='ajout_emote'></div>
            <div id='plus_d_options'></div>
        </div>
    </main>
{% endblock %}